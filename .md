

分析流程
1. **count matrix**转为sparse count matrix；多个**gene sets**，这些基因集可以包含数量不等的基因
2. 根据count matrix中每个基因的表达量，利用colRanks()函数对每一个细胞中所有的基因进行排序，输出结果是**一个细胞中所有基因的表达量排名顺序**，也就是将表达量矩阵转化为了排名矩阵 ranking matrix，用于后续分析
3. 计算恢复曲线（revovery curve）的“Area Under the Curve” (AUC)。
   * 首先是怎么理解recovery curve：恢复曲线是一种用于评估基因集在基因排名中的富集情况的图形工具。具体来说，它是一个绘图，其横坐标表示从排名最高的基因开始累积考虑的基因数量（从0个基因开始逐渐增加，到10，50，100），纵坐标表示这些基因中属于特定基因集的基因的比例（也是从0%开始逐渐增加，但绝对到不了100%）。换句话说，这条曲线展示了在考虑越来越多的基因时，特定基因集的基因如何逐渐被“恢复”（即被识别出来）。
   * 需要注意基因集被恢复的比例绝对到不了100%，因为为客观评价基因集活性，会在恢复曲线中设定阈值，例如仅观察ranking matrix中排名前5%的基因对基因集的恢复情况。这个阈值是可以修改的
   * 基因集被恢复的比例越大，表明这个基因集中越多的基因整体排名靠前，基因表达水平越高，基因集活性越高







